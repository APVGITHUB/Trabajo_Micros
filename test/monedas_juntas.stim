#1050 //#402400 si incluimos delay 50 ms en setupComm
PIND = 0x10 //INICIALIZAR SENSOR s01
PINE = 0X80 //INICIALIZAR SENSOR S02


$repeat 2
	PINL = 0x01 // sensor EM1
	#2000
	PINL = 0x00
	#2000
$endrep

//PRIMERO S01 Y S02 , DEPUES EM1
PIND = 0x00 //ENTRA MONEDA DE 10 CENT
#25600 //3.2ms entre t1fall y t2fall(t3)
PINE = 0x00
#6400 //4ms para t1
PIND = 0X10
#20000 //3.3ms para t2
PINE = 0x80
#500

//MONEDA ENTRA EN EM1
PINL = 0X01 //CAMBIO MANUALMENTE FREQUENCIA A F>1800. NO SE HAN MEDIDO ANTERIORES PULSOS DE EM1
#300
PINL = 0X00
#5000
PINL = 0X01 //PRIMER PERIODO (FILTRADO)
PIND = 0X00 //ENTRA NUEVA MONEDA POR S01 Y S02
#330 //UN POCO VARIADO
PINL = 0X00
#5000
PINL = 0X01 //SEGUNDO PERIODO (EL VALIDO)
#2000
PINL = 0X00
#2000
PINL = 0X01 //PRIMERA MONEDA DEJA EM1 ==> F>1800
#14670 //3ms entre t1fall y t2fall(t3)
PINE = 0x00
#12000
PIND = 0X10 //4.5ms para t1
#20000
PINE = 0X80 //4ms para t2
#500

//MONEDA ENTRA EN EM1
PINL = 0X01 //CAMBIO MANUALMENTE FREQUENCIA A F>1800. NO SE HAN MEDIDO ANTERIORES PULSOS DE EM1
#1000
PINL = 0X00
#15000
PINL = 0X01 //PRIMER PERIODO (FILTRADO)
#1200 //UN POCO VARIADO
PINL = 0X00
#15000
PINL = 0X01 //SEGUNDO PERIODO (EL VALIDO)
#1000
PINL = 0X00
#15000
PINL = 0X01
#2000
PINL = 0X00
#2000
PINL = 0X01 //SEGUNDA MONEDA DEJA EM1 ==> F>1800